---

- name: Debug Info
  debug:
    msg:
      - "{{ eventstreams_needed }}"

- name: Setup Event Streams if needed
  block:
  # check for naming convention
  # - name: Set eventstreams name
  #   set_fact:
  #     eventstreams_name: "es-{{instance_name}}"



  - name: Perform {{ eventstreams_action }} action on IBM eventstream
    include_tasks: "tasks/{{ eventstreams_action }}-eventstreams.yml"

  # - include_tasks: tasks/create-eventstreams-service-credentials.yml
  #   when:
  #   - eventstreams_action is defined
  #   - eventstreams_action == "provision"

  when: eventstreams_needed

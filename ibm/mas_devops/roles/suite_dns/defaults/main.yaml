---
# Choose DNS Provider
# -----------------------------------------------------------------------------
dns_provider: "{{ lookup('env', 'DNS_PROVIDER') }}"
mas_instance_id: "{{ lookup('env', 'MAS_INSTANCE_ID') }}"

# Certificate Manager
# -----------------------------------------------------------------------------
cert_manager_namespace: ibm-common-services
cert_manager_service_account: ibm-cert-manager-controller

# MAS Domain
# -----------------------------------------------------------------------------
mas_domain: "{{ lookup('env', 'MAS_DOMAIN') }}"

# Cloudflare DNS Integration
# -----------------------------------------------------------------------------
cloudflare_prod_issuer_name: "{{ mas_instance_id }}-cloudflare-le-prod"
cloudflare_stg_issuer_name: "{{ mas_instance_id }}-cloudflare-le-stg"

cloudflare_email: "{{ lookup('env', 'CLOUDFLARE_EMAIL') }}"
cloudflare_apitoken: "{{ lookup('env', 'CLOUDFLARE_APITOKEN') }}"
cloudflare_subdomain: "{{ lookup('env', 'CLOUDFLARE_SUBDOMAIN') }}"

# IBM Cloud Internet Services DNS Integration
# -----------------------------------------------------------------------------
cis_group_name: acme.msmaximoappsuite.br
cis_log_level: 1

cis_webhook:
  image:
    repository: quay.io/ibmmas/cert-manager-webhook-ibm-cis
    tag: 1.0.0
    pullPolicy: Always
  resources: {}
  nodeSelector: {}
  tolerations: []
  affinity: {}
  nameOverride: ""
  fullnameOverride: ""
  service:
    type: ClusterIP
    port: 443

cis_crn: "{{ lookup('env', 'CIS_CRN') }}"
cis_subdomain: "{{ lookup('env', 'CIS_SUBDOMAIN') }}"
cis_apikey: "{{ lookup('env', 'CIS_APIKEY') }}"
cis_email: "{{ lookup('env', 'CIS_EMAIL') }}"
cis_skip_dns_entries: "{{ lookup('env', 'CIS_SKIP_DNS_ENTRIES') | default(false, true) }}"
cis_skip_cluster_issuer: "{{ lookup('env', 'CIS_SKIP_CLUSTER_ISSUER') | default(false, true) }}"

cis_update_dns: "{{ lookup('env', 'UPDATE_DNS_ENTRIES') | default(true, true) }}"
cis_custom_ocp_ingress: "{{ lookup('env', 'OCP_INGRESS') | default(None, true)}}"
cis_default_custom_cluster_issuer: "cis-letsencrypt-production-{{ mas_instance_id }}"

# CP4D Integration
# -----------------------------------------------------------------------------
cpd_instance_namespace: "{{ lookup('env', 'CPD_INSTANCE_NAMESPACE') }}"

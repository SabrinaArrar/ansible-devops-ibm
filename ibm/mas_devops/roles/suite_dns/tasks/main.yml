---
- name: Debug no-op mode
  when: dns_provider == ""
  debug:
    msg: "dns_provider is not set, so this role will take no action"

- name: Debug manual certificate installation
  when: mas_manual_cert_mgmt != "" and mas_manual_cert_mgmt
  debug:
    msg: "mas_manual_cert_mgmt is True, so this role will take no action as this installation will use manual certificates previously configured"

- name: "Proceed with suite_dns role execution"
  when:
    - dns_provider != ""
    - not mas_manual_cert_mgmt
  include_tasks: tasks/run.yml

---
- name: Create SLS Entitlement Secret
  kubernetes.core.k8s:
    state: present
    definition:
      apiVersion: v1
      kind: Secret
      metadata:
        name: "ibm-sls-{{ sls_instance_name }}-entitlement"
        namespace: "{{ sls_namespace }}"
      stringData:
        entitlement: "{{ (entitlement_file is defined and entitlement_file != '') | ternary(entitlement_file, omit) }}"

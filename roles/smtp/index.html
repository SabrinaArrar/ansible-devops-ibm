<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/ansible-devops/roles/smtp/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>smtp - MAS Devops Collection</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "smtp";
        var mkdocs_page_input_path = "roles/smtp.md";
        var mkdocs_page_url = "/ansible-devops/roles/smtp/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> MAS Devops Collection
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../execution-environment/">Execution Environment</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Playbooks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/ocp/">OCP</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/cp4d/">Install Cloud Pak For Data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-core/">Install Core</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-aibroker/">Add AIBroker</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-iot/">Add IoT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-manage/">Add Manage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-monitor/">Add Monitor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-optimizer/">Add Optimizer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-predict/">Add Predict</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-visualinspection/">Add Visual Inspection</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-update/">Update</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/oneclick-upgrade/">Upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/uninstall-core/">Uninstall Core</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../playbooks/backup-restore/">Backup & Restore</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles: OCP Mgmt</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_cluster_monitoring/">ocp_cluster_monitoring</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_config/">ocp_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_deprovision/">ocp_deprovision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_efs/">ocp_efs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_github_oauth/">ocp_github_oauth</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_login/">ocp_login</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_node_config/">ocp_node_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_provision/">ocp_provision</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_roks_upgrade_registry_storage/">ocp_roks_upgrade_registry_storage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_upgrade/">ocp_upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_verify/">ocp_verify</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles: Dependency Mgmt</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../appconnect/">appconnect</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../aws_bucket_access_point/">aws_bucket_access_point</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../aws_documentdb_user/">aws_documentdb_user</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../aws_policy/">aws_policy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../aws_route53/">aws_route53</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../aws_user_creation/">aws_user_creation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../aws_vpc/">aws_vpc</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cert_manager/">cert_manager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cis/">cis</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../common_services/">common-services</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../configure_manage_eventstreams/">configure_manage_eventstreams</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cos/">cos</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cos_bucket/">cos_bucket</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_admin_pwd_update/">cp4d_admin_pwd_update</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d/">cp4d</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cp4d_service/">cp4d_service</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../db2/">db2</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dro/">dro</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../eck/">eck</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../grafana/">grafana</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ibm_catalogs/">ibm_catalogs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../kafka/">kafka</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nvidia_gpu/">nvidia_gpu</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mongodb/">mongodb</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocs/">ocs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sls/">sls</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../turbonomic/">turbonomic</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../uds/">uds</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles: Image Mirroring</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror_case_prepare/">mirror_case_prepare</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror_extras_prepare/">mirror_extras_prepare</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror_images/">mirror_images</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror_ocp/">mirror_ocp</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_contentsourcepolicy/">ocp_contentsourcepolicy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ocp_simulate_disconnected_network/">ocp_simulate_disconnected_network</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../registry/">registry</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles: Suite Mgmt</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_config/">suite_app_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_install/">suite_app_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_uninstall/">suite_app_uninstall</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_upgrade/">suite_app_upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_rollback/">suite_app_rollback</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_app_backup_restore/">suite_app_backup_restore</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_certs/">suite_certs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_config/">suite_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_db2_setup_for_manage/">suite_db2_setup_for_manage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_dns/">suite_dns</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_install/">suite_install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_manage_attachments_config/">suite_manage_attachments_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_manage_birt_report_config/">suite_manage_birt_report_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_manage_bim_config/">suite_manage_bim_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_manage_customer_files_config/">suite_manage_customer_files_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_manage_import_certs_config/">suite_manage_import_certs_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_manage_load_dbc_scripts/">suite_manage_load_dbc_scripts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_manage_logging_config/">suite_manage_logging_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_manage_pvc_config/">suite_manage_pvc_config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_uninstall/">suite_uninstall</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_upgrade/">suite_upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_rollback/">suite_rollback</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_verify/">suite_verify</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../suite_backup_restore/">suite_backup_restore</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Roles: Utilities</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ansible_version_check/">ansible_version_check</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../entitlement_key_rotation/">entitlement_key_rotation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_jdbc/">gencfg_jdbc</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_watsonstudio/">gencfg_watsonstudio</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_workspace/">gencfg_workspace</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install_operator/">install_operator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gencfg_mongo/">gencfg_mongo</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">MAS Devops Collection</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">smtp</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ibm-mas/ansible-devops/blob/master/docs/roles/smtp.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="smtp">smtp<a class="headerlink" href="#smtp" title="Permanent link"></a></h1>
<p>Generate an SMTP configuration that can be directly applied to IBM Maximo Application Suite.
The role supports the Twilio SendGrid email provider.  <a href="https://docs.sendgrid.com/">Twilio SendGrid</a></p>
<p>Prior to running this role, you must create an account with SendGrid.  The SendGrid account needs to support creating subusers.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The role will generate a yaml file containing the definition of a Secret and SmtpCfg resource that can be used to configure the smtp email provider for MAS.
This file can be directly applied using <code>oc apply -f $MAS_CONFIG_DIR/smtp-$MAS_INSTANCE_ID.yml"</code> or used in conjunction with the <a href="../suite_config/">suite_config</a> role.</p>
</div>
<p>This role will create a subuser that must be validated.  An email with a validation link will be sent to the primary email address.  You need to validate the subuser using this link.  If validation fails, you can resend the email using the SendGrid admin UI.</p>
<h2 id="role-variables">Role Variables<a class="headerlink" href="#role-variables" title="Permanent link"></a></h2>
<h3 id="smtp_type">smtp_type<a class="headerlink" href="#smtp_type" title="Permanent link"></a></h3>
<ul>
<li>Required.  Specify the smtp provider. Currently the supported value is <code>sendgrid</code>.</li>
<li>Environment Variable: <code>SMTP_TYPE</code></li>
<li>Default: None</li>
</ul>
<h3 id="mas_instance_id">mas_instance_id<a class="headerlink" href="#mas_instance_id" title="Permanent link"></a></h3>
<p>The instance ID of Maximo Application Suite that the SmtpCfg configuration will target.</p>
<ul>
<li>Required. If this or <code>mas_config_dir</code> are not set then the role will not generate a SmtpCfg template</li>
<li>Environment Variable: <code>MAS_INSTANCE_ID</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="mas_config_dir">mas_config_dir<a class="headerlink" href="#mas_config_dir" title="Permanent link"></a></h3>
<p>Local directory to save the generated SmtpCfg resource definition.  This can be used to manually configure a MAS instance to connect to smtp provider, or used as an input to the <a href="../suite_config/">suite_config</a> role. If this or <code>mas_instance_id</code> are not set then the role will not generate a SmtpCfg template.</p>
<ul>
<li>Required. if this or <code>mas_config_dir</code> are not set then the role will not generate a SmtpCfg template</li>
<li>Environment Variable: <code>MAS_CONFIG_DIR</code></li>
<li>Default Value: None</li>
</ul>
<h3 id="mas_pod_templates_dir">mas_pod_templates_dir<a class="headerlink" href="#mas_pod_templates_dir" title="Permanent link"></a></h3>
<p>Provide the directory where supported pod templates configuration files are defined.  This role will look for a configuration file named <code>ibm-mas-smtpcfg.yml</code> in the named directory.  The content of the configuration file should be the yaml block that you wish to be inserted into the SmtpCfg spec under a top level <code>podTemplates</code> element, e.g. <code>podTemplates: {object}</code>.</p>
<p>For examples refer to the <a href="https://github.com/ibm-mas/cli/blob/master/image/cli/mascli/templates/pod-templates/best-effort/ibm-mas-smtpcfg.yml">BestEfforts reference configuration in the MAS CLI</a>, for full documentation of the supported options refer to the <a href="https://www.ibm.com/docs/en/mas-cd/continuous-delivery?topic=configuring-customizing-workloads">Customizing Pod Templates</a> in the product documentation.</p>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>MAS_POD_TEMPLATES_DIR</code></li>
<li>Default: None</li>
</ul>
<h3 id="sendgrid_primary_username">sendgrid_primary_username<a class="headerlink" href="#sendgrid_primary_username" title="Permanent link"></a></h3>
<ul>
<li>Required.  Username of the existing SendGrid account.  </li>
<li>Environment Variable: <code>SMTP_PRIMARY_USERNAME</code></li>
<li>Default: None</li>
</ul>
<h3 id="sendgrid_primary_email">sendgrid_primary_email<a class="headerlink" href="#sendgrid_primary_email" title="Permanent link"></a></h3>
<ul>
<li>Required.  Email of the existing SendGrid account.</li>
<li>Environment Variable: <code>SMTP_PRIMARY_EMAIL</code></li>
<li>Default: None</li>
</ul>
<h3 id="sendgrid_subuser_email">sendgrid_subuser_email<a class="headerlink" href="#sendgrid_subuser_email" title="Permanent link"></a></h3>
<ul>
<li>Required.  Email of the SendGrid subuser. This role creates a SendGrid subuser for sending emails <a href="https://docs.sendgrid.com/ui/account-and-settings/subusers">subusers</a></li>
<li>Environment Variable: <code>SMTP_SUBUSER_EMAIL</code></li>
<li>Default: None</li>
</ul>
<h3 id="sendgrid_defaultrecipientemail">sendgrid_defaultrecipientemail<a class="headerlink" href="#sendgrid_defaultrecipientemail" title="Permanent link"></a></h3>
<ul>
<li>Required.  Default destination email address.</li>
<li>Environment Variable: <code>SENDGRID_DEFAULTRECIPIENTEMAIL</code></li>
<li>Default: None</li>
</ul>
<h3 id="sendgrid_primary_apikey">sendgrid_primary_apikey<a class="headerlink" href="#sendgrid_primary_apikey" title="Permanent link"></a></h3>
<ul>
<li>Required.  Apikey of the existing SendGrid account.</li>
<li>Environment Variable: <code>SENDGRID_PRIMARY_APIKEY</code></li>
<li>Default: None</li>
</ul>
<h3 id="sendgrid_ips">sendgrid_ips<a class="headerlink" href="#sendgrid_ips" title="Permanent link"></a></h3>
<ul>
<li>Required.  ips of the existing SendGrid account.  The primary SendGrid account has one or more IP Addresses associated with it.  Specify the list of SendGrid IP Addresses to associate with the subuser.</li>
<li>Environment Variable: <code>SENDGRID_IPS</code></li>
<li>Default: None</li>
</ul>
<h3 id="sendgrid_subuser_username">sendgrid_subuser_username<a class="headerlink" href="#sendgrid_subuser_username" title="Permanent link"></a></h3>
<ul>
<li>Optional.  Username of the SendGrid subuser. This role creates a SendGrid subuser for sending emails <a href="https://docs.sendgrid.com/ui/account-and-settings/subusers">subusers</a></li>
<li>Environment Variable: <code>SMTP_SUBUSER_USERNAME</code></li>
<li>Default:  ibm-mas_$MAS_INSTANCE_ID</li>
</ul>
<h3 id="sendgrid_defaultsendername">sendgrid_defaultsendername<a class="headerlink" href="#sendgrid_defaultsendername" title="Permanent link"></a></h3>
<ul>
<li>Optional.  Easily readable name displayed in emails sent by the subuser</li>
<li>Environment Variable: <code>SENDGRID_DEFAULTSENDERNAME</code></li>
<li>Default: ''</li>
</ul>
<h3 id="sendgrid_defaultshouldemailpasswords">sendgrid_defaultshouldemailpasswords<a class="headerlink" href="#sendgrid_defaultshouldemailpasswords" title="Permanent link"></a></h3>
<ul>
<li>Optional.  Flag to indicate if the password should be sent by email.</li>
<li>Environment Variable: <code>SENDGRID_DEFAULTSHOULDEMAILPASSWORDS</code></li>
<li>Default: false</li>
</ul>
<h3 id="sendgrid_configscope">sendgrid_configscope<a class="headerlink" href="#sendgrid_configscope" title="Permanent link"></a></h3>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>SENDGRID_CONFIGSCOPE</code></li>
<li>Default: system</li>
</ul>
<h3 id="sendgrid_hostname">sendgrid_hostname<a class="headerlink" href="#sendgrid_hostname" title="Permanent link"></a></h3>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>SENDGRID_HOSTNAME</code></li>
<li>Default: smtp.sendgrid.net</li>
</ul>
<h3 id="sendgrid_port">sendgrid_port<a class="headerlink" href="#sendgrid_port" title="Permanent link"></a></h3>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>SENDGRID_PORT</code></li>
<li>Default: 465</li>
</ul>
<h3 id="sendgrid_security">sendgrid_security<a class="headerlink" href="#sendgrid_security" title="Permanent link"></a></h3>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>SENDGRID_SECURITY</code></li>
<li>Default: SSL</li>
</ul>
<h3 id="sendgrid_authentication">sendgrid_authentication<a class="headerlink" href="#sendgrid_authentication" title="Permanent link"></a></h3>
<ul>
<li>Optional</li>
<li>Environment Variable: <code>SENDGRID_AUTHENTICATION</code></li>
<li>Default: true</li>
</ul>
<h3 id="sendgrid_api_url">sendgrid_api_url<a class="headerlink" href="#sendgrid_api_url" title="Permanent link"></a></h3>
<ul>
<li>Optional. The api URL of the smtp email service.  This URL is used for REST calls.</li>
<li>Environment Variable: <code>SENDGRID_API_URL</code></li>
<li>Default: api.sendgrid.com</li>
</ul>
<h3 id="custom_labels">custom_labels<a class="headerlink" href="#custom_labels" title="Permanent link"></a></h3>
<ul>
<li>Optional. List of comma separated key=value pairs for setting custom labels on instance specific resources.</li>
<li>Environment Variable: <code>CUSTOM_LABELS</code></li>
<li>Default: None</li>
</ul>
<h3 id="sendgrid_debug">sendgrid_debug<a class="headerlink" href="#sendgrid_debug" title="Permanent link"></a></h3>
<ul>
<li>Optional.  When set to True, the results of the SendGrid REST calls will be displayed in the log.</li>
<li>Environment Variable: <code>SENDGRID_DEBUG</code></li>
<li>Default: False</li>
</ul>
<h2 id="example-playbook">Example Playbook<a class="headerlink" href="#example-playbook" title="Permanent link"></a></h2>
<h3 id="generate-a-configuration">Generate a configuration<a class="headerlink" href="#generate-a-configuration" title="Permanent link"></a></h3>
<pre><code class="language-yaml">- hosts: localhost
  any_errors_fatal: true
  vars:
    mas_instance_id: inst1
    mas_config_dir: /home/me/masconfig
    smtp_type: sendgrid
    sendgrid_primary_username: myusername
    sendgrid_primary_email: myemail@mydomain
    sendgrid_subuser_username: mysubusername
    sendgrid_subuser_email: mysubuser@mydomain
    sendgrid_defaultrecipientemail: myemail@mydomain
    sendgrid_defaultsendername: 'My Name'
    sendgrid_primary_apikey: xxxx
    sendgrid_ips: '[&quot;XXX.XXX.XXX.XXX&quot;]'

  roles:
    - ibm.mas_devops.smtp
</code></pre>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link"></a></h2>
<p>EPL-2.0</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/ansible-devops" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
